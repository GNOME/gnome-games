From b6ef46c0ad956fbd218b961eb4a686a09183f507 Mon Sep 17 00:00:00 2001
From: Adrien Plazas <kekun.plazas@laposte.net>
Date: Mon, 11 Feb 2019 13:36:56 +0100
Subject: [PATCH 1/2] Add the Libretro installation rules

---
 Makefile | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/Makefile b/Makefile
index 8a5b397..a421341 100644
--- a/Makefile
+++ b/Makefile
@@ -225,6 +225,12 @@ ifeq ($(MAKECMDGOALS),libblastem.so)
 CFLAGS+= -fpic -DIS_LIB
 endif
 
+# Libretro variables
+prefix := /usr
+libdir := $(prefix)/lib
+LIBRETRO_DIR := libretro
+TARGET := blastem_libretro.so
+
 all : $(ALL)
 
 libblastem.so : $(LIBOBJS)
@@ -327,5 +333,11 @@ font.tiles : font.png
 
 menu.bin : font_interlace_variable.tiles arrow.tiles cursor.tiles button.tiles font.tiles
 
+install_libretro:
+	install -D -m 755 libblastem.so $(DESTDIR)$(libdir)/$(LIBRETRO_DIR)/$(TARGET)
+
+uninstall_libretro:
+	rm $(DESTDIR)$(libdir)/$(LIBRETRO_DIR)/$(TARGET)
+
 clean :
 	rm -rf $(ALL) trans ztestrun ztestgen *.o nuklear_ui/*.o zlib/*.o
-- 
2.20.1

